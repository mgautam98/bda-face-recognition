# -*- coding: utf-8 -*-
"""Dataset Convert.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1NBXo3ZNO_-nMFzk6I7hl6KLreTePAmrG
"""

from PIL import Image
import matplotlib.pyplot as plt
import os 
from tqdm import tqdm

test_path = '/content/drive/MyDrive/research/test'
train_path = '/content/drive/MyDrive/research/training-synthetic'

test_output = '/content/drive/MyDrive/research/converted/test'
train_output = '/content/drive/MyDrive/research/converted/train'

def convert_to_jpg(path, output_path):
  files = os.listdir(path)
  for file in tqdm(files, desc="Converting: "):
    im = Image.open(os.path.join(path, file))
    im = im.convert('RGB')
    file_name = file.split('.')[0] + '.jpg'
    save_path = os.path.join(output_path, file_name)
    im.save(save_path)

def convert_to_gray(path, output_path):
  files = os.listdir(path)
  for file in tqdm(files, desc="Converting: "):
    im = Image.open(os.path.join(path, file))
    im = im.convert('LA').convert('RGB')
    file_name = file.split('.')[0] + '.jpg'
    save_path = os.path.join(output_path, file_name)
    im.save(save_path)

convert_to_jpg(test_path, test_output)

convert_to_jpg(train_path, train_output)



